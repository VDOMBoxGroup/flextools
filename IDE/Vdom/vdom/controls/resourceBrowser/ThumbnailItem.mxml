<?xml version="1.0" encoding="utf-8"?>
<!--
	ThumbnailItem component for Resource Browser
	Developed by Vadim A. Usoltsev, Tomsk, Russia, 2008
-->
<mx:VBox
	xmlns:mx="http://www.adobe.com/2006/mxml"
	width="113" height="132" 
	horizontalAlign="center" borderStyle="solid" 
	verticalScrollPolicy="off"
	horizontalScrollPolicy="off"
	paddingTop="3" paddingLeft="3" paddingRight="3" paddingBottom="3"
	backgroundColor="#FFF6EA" cornerRadius="3"
	verticalGap="1" horizontalGap="1"
	xmlns:resourceBrowser="vdom.controls.resourceBrowser.*">
	
	<mx:Spacer height="50%" />
	<resourceBrowser:SmoothImage id="__image" maxWidth="100" maxHeight="100"
		verticalAlign="middle" horizontalAlign="center" maintainAspectRatio="true"
		scaleContent="true" />
	<mx:Spacer height="50%" />
	<mx:HBox width="100" horizontalGap="0" horizontalScrollPolicy="off" verticalScrollPolicy="off">
		<mx:Label id="__type" text="JPG:" textAlign="left" fontWeight="bold" />
		<mx:Label id="__name" text="img" textAlign="left" maxWidth="65"/>	
	</mx:HBox>
	<mx:Script>
		<![CDATA[
			import mx.messaging.channels.StreamingAMFChannel;
		
			import mx.controls.Image;
			
			private var loader:Loader = new Loader();
			
			private var __id:String;
			private var __selected:Boolean = false;
			private var __objType:String = "";

			public var imageWidth:int = 0;
			public var imageHeight:int = 0;

			public function set resource(source:Object):void {
				loader.contentLoaderInfo.addEventListener(Event.COMPLETE, imageLoadComplete);
				loader.loadBytes(source.data);
			}
			
			private function imageLoadComplete(event:Event):void {
				loader.contentLoaderInfo.removeEventListener(Event.COMPLETE, imageLoadComplete);
				__image.source = loader.content				
				imageWidth = loader.width;
				imageHeight = loader.height;
				this.toolTip = imageWidth.toString() + "x" + imageHeight.toString();			
			}			
			
			public function set objName(text:String):void { __name.text = text; }
			
			public function get objName():String { return __name.text; }

			public function set objID(objID:String):void { __id = objID; }
			
			public function set objType(objType:String):void {
				__type.text = objType.toUpperCase() + ":";
				__objType = objType;
			}
			
			public function get objType():String {
				return __objType;
			}
			
			public function get objID():String { return __id; }	
			
			public function set selected(value:Boolean):void {
				if (value == true) {
					__selected = true;
					this.setStyle('backgroundColor', "#D8D8D8");
				} else { 
					__selected = false;
					this.setStyle('backgroundColor', "#FFF6EA");
				}
			}
			
			public function set imageSource(source:Object):void {
				__image.source = source;
			}
			
			public function get imageSource():Object {
				return __image.source;
			}
			
			public function get selected():Boolean {
				return __selected;
			}
			
		]]>
	</mx:Script>
</mx:VBox>