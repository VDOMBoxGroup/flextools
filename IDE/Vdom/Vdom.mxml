<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute"
	
	initialize="initalizeHandler();"
	
	backgroundGradientColors="[#ffffff, #ffffff]" 
	minWidth="800" minHeight="400"
	
	verticalScrollPolicy="off"
	
	xmlns:vdom="vdom.*" 
	xmlns:controls="vdom.containers.*" 
	xmlns:editor="vdom.components.editor.*"
	xmlns:scriptEditor="vdom.components.scriptEditor.*"
	xmlns:loginForm="vdom.components.loginForm.*" 
	xmlns:main="vdom.components.main.*">
	
	<mx:Script source="includes/Vdom.as"/>
	
	<mx:XML source="langs/languages.xml" id="languageList" />
	<mx:XML source="langs/translation.xml" id="languagesTranslation" />
	
	<mx:ViewStack id="viewstack" width="100%" height="100%">
	
	<loginForm:LoginForm creationComplete="loginCreationComleteHandler(event);"/>
	
	<mx:Canvas id="main" creationComplete="mainInitHandler(event)" width="100%" height="100%">
	<mx:ApplicationControlBar
		top="0" left="0" right="0" height="40" 
		fillColors="[#000000, #000000]" fillAlphas="[0.63, 1.0]" cornerRadius="0" dock="true">
		<mx:Spacer x="10" y="10" width="100%"/>
		<mx:Spacer x="10" y="10" width="100%"/>
		<mx:ComboBox id="selectLang" width="80"
			
			dataProvider="{languagesTranslation.language}" 
			labelField="@label"
		 fillColors="[#ffffff, #ffffff]" fillAlphas="[1.0, 0.59]">
		</mx:ComboBox>
	</mx:ApplicationControlBar>
	<mx:Image x="6" y="5" source="@Embed(source='assets/logo.png')"/>
	<controls:MainTabNavigator id="tabPanel"
		top="60" left="10" right="10"
		paddingBottom="10" paddingTop="10" paddingRight="10" paddingLeft="10" tabPaddingLeft="80"
		borderColor="#808080" borderThickness="1" fillColors="[#c0c0c0, #c0c0c0]" fillAlphas="[1.0, 1.0]"
		height="150">
		
		<mx:Canvas id="appManTab" label="{languages.language.(@label == 'main_title')}" 
			width="100%" height="100%" verticalScrollPolicy="off"
			show="{placeCanvas.selectedChild=mainCanv}">
			
			<mx:HBox  
				top="0" bottom="0" width="100%" 
				horizontalAlign="left" horizontalGap="5" verticalAlign="middle" verticalScrollPolicy="off">
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'main_steps')}" />
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'main_search')}"/>

				<controls:ActionPanel panelName="{languages.language.(@label == 'main_search')}"  width="250">
				
					<mx:HBox width="100%">
						<mx:Button label="Find" height="61"/>
						<mx:VBox width="100%" horizontalAlign="right">
							<mx:TextInput height="20"/>
							<mx:ComboBox height="20"></mx:ComboBox>
							<mx:Button label="Go"/>
						</mx:VBox>
					</mx:HBox>
					
				</controls:ActionPanel>
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'main_applist')}" width="200">
				
					<mx:HorizontalList id="applicationListContainer"
						minWidth="0" minHeight="0" height="78" labelField="@id" 
						itemRenderer="vdom.containers.Thumbnail" 
						change="HorizontalList(event.target).selectedItem.data"/>
						
				</controls:ActionPanel>
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'main_appinfo')}" width="100" />
				
			</mx:HBox>
		</mx:Canvas>
		
		<mx:Canvas id="editorTab"
			label="{languages.language.(@label == 'editor_title')}" width="100%" height="100%"  
			show="{placeCanvas.selectedChild=editorCanv}">
			
			<mx:HBox 
				top="0" bottom="0" width="100%" horizontalAlign="left" horizontalGap="5" verticalAlign="middle">
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_edition')}" 
					click="{placeCanvas.selectedChild=editorCanv}"/>
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_script')}" 
					click="{placeCanvas.selectedChild=scriptCanv}"/>
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_preview')}" />
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_tree')}" />
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_analyse')}" />
				
				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_statistics')}" />

				<controls:ActionPanel panelName="{languages.language.(@label == 'editor_events')}" />

			</mx:HBox>
		</mx:Canvas>
		<mx:Canvas id="multilinTab"
			label="{languages.language.(@label == 'mling_title')}" width="100%" height="100%"  
			show="{placeCanvas.selectedChild=multilinCanv}">
		</mx:Canvas>
		<mx:Canvas id="portalManTab"
			label="{languages.language.(@label == 'portal_title')}" width="100%" height="100%" 
			show="{placeCanvas.selectedChild=portalManCanv}">
		</mx:Canvas>
		<mx:Canvas id="publishTab"
			label="{languages.language.(@label == 'publish_title')}" width="100%" height="100%" 
			show="{placeCanvas.selectedChild=publishCanv}">
		</mx:Canvas>
		<mx:Canvas id="safeguardTab"
			label="{languages.language.(@label == 'safe_title')}" width="100%" height="100%"  
			show="{placeCanvas.selectedChild=safeguardCanv}">
		</mx:Canvas>
		<mx:Canvas id="vdomTab"
			label="{languages.language.(@label == 'vdom_title')}" width="100%" height="100%"  
			show="{placeCanvas.selectedChild=vdomCanv}">
		</mx:Canvas>
	</controls:MainTabNavigator>
	<mx:ViewStack id="placeCanvas" 
		borderStyle="solid" borderThickness="1" borderColor="#808080" left="10" right="10" top="220" bottom="30">
	
		<main:Main id="mainCanv"
			width="100%" height="100%"/>
		
		<editor:Editor id="editorCanv" 
			width="100%" height="100%"/>
		
		<scriptEditor:ScriptEditor id="scriptCanv" 
			width="100%" height="100%"/>
		
		<mx:Canvas id="multilinCanv" width="100%" height="100%">
			<mx:Label horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="portalManCanv" width="100%" height="100%">
			<mx:Label horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="publishCanv" width="100%" height="100%">
			<mx:Label horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="safeguardCanv" width="100%" height="100%">
			<mx:Label horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="vdomCanv" width="100%" height="100%">
			<mx:Label horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
	</mx:ViewStack>
	</mx:Canvas>
	</mx:ViewStack>
</mx:Application>
