<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute"
	
	creationComplete="init();" 
	
	backgroundGradientColors="[#ffffff, #ffffff]" 
	minWidth="800" minHeight="400"
	
	verticalScrollPolicy="off"
	
	xmlns:vdom="vdom.*" 
	xmlns:controls="vdom.containers.*" 
	xmlns:editor="vdom.components.editor.*"
	xmlns:scriptEditor="vdom.components.scriptEditor.*"
>
	
	<mx:Script source="scripts/Vdom.as"/>
	
	<mx:XML source="settings.xml" id="settings" />
	
	<mx:ViewStack id="viewstack" width="100%" height="100%">
	<mx:Canvas id="auth" width="100%" height="100%">
		<mx:Form verticalCenter="0" borderStyle="solid" cornerRadius="4" horizontalCenter="0">
			<mx:FormHeading label="Auth"/>
			<mx:FormItem label="Login">
				<mx:TextInput id="loginText"/>
			</mx:FormItem>
			<mx:FormItem label="Password">
				<mx:TextInput id="passwordText"/>
			</mx:FormItem>
			<mx:FormItem>
				<mx:Button label="OK" click="checkAuth()"/>
			</mx:FormItem>
		</mx:Form>
	</mx:Canvas>
	<mx:Canvas id="main" creationComplete="mainInitHandler(event)" width="100%" height="100%">
	<mx:ApplicationControlBar
		top="0" left="0" right="0" height="40" 
		fillColors="[#000000, #000000]" fillAlphas="[0.63, 1.0]" cornerRadius="0" dock="true">
		<mx:Spacer x="10" y="10" width="100%"/>
		<mx:Label id="authText" color="#ffffff" fontWeight="bold" fontFamily="Arial" fontSize="15" textAlign="center" text="{'Account: '+mtAuth.loginName}"/>
		
		<mx:Spacer x="10" y="10" width="100%"/>
		<mx:ComboBox id="selectLang" width="80"
			creationComplete="setDefaultLanguage()"
			change="changeEvt(event)" 
			dataProvider="{settings.languages.language}" 
			labelField="@title"
		 fillColors="[#ffffff, #ffffff]" fillAlphas="[1.0, 0.59]">
		</mx:ComboBox>
	</mx:ApplicationControlBar>
	<mx:Image x="6" y="5" source="@Embed(source='assets/logo.png')"/>
	<controls:MainTabNavigator id="tabPanel"
		top="60" left="10" right="10"
		paddingBottom="10" paddingTop="10" paddingRight="10" paddingLeft="10" tabPaddingLeft="80"
		borderColor="#808080" borderThickness="1"  fillColors="[#c0c0c0, #c0c0c0]" fillAlphas="[1.0, 1.0]"
		height="150"
	>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.appmaintab}" width="100%" height="100%" id="appManTab" show="{placeCanvas.selectedChild=appManCanv}" verticalScrollPolicy="off">
			<mx:HBox horizontalAlign="left" horizontalGap="5" verticalAlign="middle" top="0" bottom="0" width="100%" verticalScrollPolicy="off">
				<controls:ExtendedPanel styleName="extPan" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1" width="100">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.appmain_panel.news}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1" width="100">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.appmain_panel.steps}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1">
					<mx:HBox width="100%">
						<mx:Button label="Find" height="61"/>
						<mx:VBox width="100%" horizontalAlign="right">
							<mx:TextInput height="20"/>
							<mx:ComboBox height="20"></mx:ComboBox>
							<mx:Button label="Go"/>
						</mx:VBox>
					</mx:HBox>
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.appmain_panel.search}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1" width="200">
					<mx:List width="100%" height="100%" labelField="@id" id="applicationListContainer" 
						change="List(event.target).selectedItem.data"/>
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.appmain_panel.applist}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1" width="100">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.appmain_panel.appinfo}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
			</mx:HBox>
		</mx:Canvas>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.editortab}" width="100%" height="100%" id="editorTab" show="{placeCanvas.selectedChild=editorCanv}">
			<mx:HBox horizontalAlign="left" horizontalGap="5" verticalAlign="middle" top="0" bottom="0" width="100%">
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1" click="{placeCanvas.selectedChild=editorCanv}">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.edition}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1" click="{placeCanvas.selectedChild=scriptCanv}">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.script}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.preview}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.tree}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.analyse}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.statistics}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
				<controls:ExtendedPanel styleName="extPan" width="100" height="100" borderColor="#808080" borderStyle="solid" cornerRadius="5" borderThickness="1">
					<mx:ControlBar horizontalAlign="center" x="0" y="76">
						<mx:Label text="{mtLang.lang.editor_panel.events}"/>
					</mx:ControlBar>
				</controls:ExtendedPanel>
			</mx:HBox>
		</mx:Canvas>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.multilintab}" width="100%" height="100%" id="multilinTab" show="{placeCanvas.selectedChild=multilinCanv}">
		</mx:Canvas>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.portalmantab}" width="100%" height="100%" id="portalManTab" show="{placeCanvas.selectedChild=portalManCanv}">
		</mx:Canvas>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.publishtab}" width="100%" height="100%" id="publishTab" show="{placeCanvas.selectedChild=publishCanv}">
		</mx:Canvas>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.safeguardtab}" width="100%" height="100%" id="safeguardTab" show="{placeCanvas.selectedChild=safeguardCanv}">
		</mx:Canvas>
		<mx:Canvas label="{mtLang.lang.main_tab_panel.vdomtab}" width="100%" height="100%" id="vdomTab" show="{placeCanvas.selectedChild=vdomCanv}">
		</mx:Canvas>
	</controls:MainTabNavigator>
	<mx:ViewStack id="placeCanvas" borderStyle="solid" borderThickness="1" borderColor="#808080" left="10" right="10" top="220" bottom="30">
		<mx:Canvas id="appManCanv" width="100%" height="100%">
			<mx:Label text="{mtLang.lang.main_tab_panel.appmaintab}" horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		
		<editor:Editor id="editorCanv" height="100%"/>
		
		<scriptEditor:ScriptEditor id="scriptCanv" x="0" y="0" width="100%" height="100%"/>
		
		<mx:Canvas id="multilinCanv" width="100%" height="100%">
			<mx:Label text="{mtLang.lang.main_tab_panel.multilintab}" horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="portalManCanv" width="100%" height="100%">
			<mx:Label text="{mtLang.lang.main_tab_panel.portalmantab}" horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="publishCanv" width="100%" height="100%">
			<mx:Label text="{mtLang.lang.main_tab_panel.publishtab}" horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="safeguardCanv" width="100%" height="100%">
			<mx:Label text="{mtLang.lang.main_tab_panel.safeguardtab}" horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
		<mx:Canvas id="vdomCanv" width="100%" height="100%">
			<mx:Label text="{mtLang.lang.main_tab_panel.vdomtab}" horizontalCenter="0" verticalCenter="0"/>
		</mx:Canvas>
	</mx:ViewStack>
	</mx:Canvas>
	</mx:ViewStack>
</mx:Application>
