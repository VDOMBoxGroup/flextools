<?xml version="1.0" encoding="utf-8"?>
<s:MXTreeItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" 
					  xmlns:s="library://ns.adobe.com/flex/spark" 
					  xmlns:mx="library://ns.adobe.com/flex/mx"
					  width="100%" minWidth="225" xmlns:view="net.vdombox.view.*">
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			
			private var dataChanged : Boolean = false;
			
			private var _data : XML;
			
			override public function set data( value : Object ) : void
			{
				super.data = value;
				
				dataChanged = true;
				
				_data = value as XML;
			}
			
			public function get objectID() : String
			{
				return _data.@id;
			}
			
			override public function validateProperties() : void
			{
				super.validateProperties();
				
				if ( !dataChanged )
					return;
				
				dataChanged = false;
				
				if ( !_data )
					return;
			}
			
		]]>
	</fx:Script>
	
	<s:states>
		<s:State name="normal" />            
		<s:State name="hovered" />
		<s:State name="selected" />
	</s:states>
	
	<s:Rect left="-2" width="100%" top="-2" bottom="-2">
		<s:fill>
			<s:SolidColor id="rectColor"
						  color.normal="#3A3A3A"
						  color.hovered="#00000A"
						  alpha.hovered="0.8"
						  color.selected="#00000A" />
		</s:fill>
	</s:Rect>
	
	<s:Group id="groupContent"
			 width="100%" minWidth="200"
			 top="-2"
			 bottom="-2">
		
		<s:HGroup width="100%" height="100%" verticalAlign="middle">
			
			<s:Rect id="indentationSpacer" width="{treeListData.indent}" percentHeight="100">
				<s:fill>
					<s:SolidColor color="#585858" />
				</s:fill>
			</s:Rect>
			
			<s:Group id="disclosureGroup">
				<s:BitmapImage source="{treeListData.disclosureIcon}" visible="{treeListData.hasChildren}" />
			</s:Group>
			
			<s:BitmapImage source="{treeListData.icon}" />
			
			<s:TextInput id="labelField"
						 color="#FFFFFF"
						 text="{treeListData.label}"
						 width="100%"
						 paddingTop="2"
						 editable="false" contentBackgroundAlpha="0"
						 borderVisible="false" selectable="false"/>
			
		</s:HGroup>
		
	</s:Group>
	
	<s:Line top="-2" left="-2" width="100%">
		<s:stroke>
			<s:SolidColorStroke color="#FFFFFF" alpha="0.5" weight="1" />
		</s:stroke>
	</s:Line>
	
	<s:Line bottom="-2" left="-2" width="100%">
		<s:stroke>
			<s:SolidColorStroke color="#000000" alpha="0.5" weight="1" />
		</s:stroke>
	</s:Line>

</s:MXTreeItemRenderer>
