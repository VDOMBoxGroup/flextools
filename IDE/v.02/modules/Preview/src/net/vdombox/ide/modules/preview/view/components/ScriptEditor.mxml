<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:components="net.vdombox.ide.modules.preview.view.components.*"
		 xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:mx="library://ns.adobe.com/flex/halo"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 height="100%" width="100%"
		 creationComplete="creationCompleteHandler()">

	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			
			import net.vdombox.ide.modules.preview.events.EditAreaEvent;
			import net.vdombox.ide.modules.preview.events.ScriptEditorEvent;
			
			private var _script : String;

			private var _syntax : String = "vscript";

			public function get script() : String
			{
				return editArea ? editArea.content : null;
			}

			public function set script( value : String ) : void
			{
				editArea.content = value;
			}

			public function set syntax( value : String ) : void
			{
				editArea.syntax = _syntax;
			}

			protected function creationCompleteHandler() : void
			{
				editArea.addEventListener( EditAreaEvent.SAVE, editArea_saveHandler, false, 0, true );
			}
			
			private function editArea_saveHandler( event : EditAreaEvent ) : void
			{
				dispatchEvent( new ScriptEditorEvent( ScriptEditorEvent.SAVE ) );
			}
		]]>
	</fx:Script>

	<components:EditArea id="editArea"
						 height="100%" width="100%"/>
</s:Group>
