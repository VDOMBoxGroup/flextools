<?xml version="1.0" encoding="utf-8"?>
<components:Item xmlns:fx="http://ns.adobe.com/mxml/2009"
				 xmlns:s="library://ns.adobe.com/flex/spark"
				 xmlns:mx="library://ns.adobe.com/flex/halo"
				 xmlns:components="net.vdombox.ide.modules.wysiwyg.view.components.*"
				 
				 itemRenderer="net.vdombox.ide.modules.wysiwyg.view.components.Item"
				 skinClass="net.vdombox.ide.modules.wysiwyg.view.skins.WorkAreaSkin">

	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.collections.Sort;
			import mx.collections.SortField;
			
			import net.vdombox.ide.modules.wysiwyg.model.vo.ItemVO;
			import net.vdombox.ide.modules.wysiwyg.view.skins.WorkAreaSkin;
			
			import spark.components.Group;

			private var _itemVO : ItemVO;

			[SkinPart(required="false")]
			public var upperLayer : Group;
			
			override public function get itemVO() : ItemVO
			{
				return _itemVO;
			}

			override public function set itemVO( value : ItemVO ) : void
			{
				_itemVO = value;

				var childrenDataProvider : ArrayCollection = new ArrayCollection( value.children );
				childrenDataProvider.sort = new Sort();
				childrenDataProvider.sort.fields = [ new SortField( "zindex" ), new SortField( "hierarchy" ), new SortField( "order" ) ];
				childrenDataProvider.refresh();

				dataProvider = childrenDataProvider;
			}
		]]>
	</fx:Script>
</components:Item>
