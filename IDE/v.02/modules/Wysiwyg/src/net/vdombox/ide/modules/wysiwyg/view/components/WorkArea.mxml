<?xml version="1.0" encoding="utf-8"?>
<s:SkinnableContainer xmlns:components="net.vdombox.ide.modules.wysiwyg.view.components.*"
		 xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:mx="library://ns.adobe.com/flex/halo"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 creationComplete="creationCompleteHandler()">

	<fx:Script>
		<![CDATA[
			import com.zavoo.svg.SVGViewer;

			import mx.collections.ArrayCollection;
			import mx.collections.Sort;
			import mx.collections.SortField;
			import mx.controls.HTML;
			import mx.controls.Text;
			import mx.core.UIComponent;
			import mx.events.FlexEvent;
			import mx.graphics.SolidColor;
			import mx.graphics.SolidColorStroke;

			import net.vdombox.ide.common.vo.AttributeVO;
			import net.vdombox.ide.modules.wysiwyg.events.ItemEvent;
			import net.vdombox.ide.modules.wysiwyg.events.TransformMarkerEvent;
			import net.vdombox.ide.modules.wysiwyg.model.vo.ItemVO;
			import net.vdombox.ide.modules.wysiwyg.view.skins.WorkAreaSkin;

			import spark.components.Group;

			[SkinPart( required="true" )]
			public var transformMarker : TransformMarker;

			private function creationCompleteHandler() : void
			{
				addEventListener( ItemEvent.ITEM_CLICKED, item_itemClickedHandler, true, 0, true );
				addEventListener( ItemEvent.ITEM_CLICKED, item_itemClickedHandler, false, 0, true );
			}

			private function item_itemClickedHandler( event : ItemEvent ) : void
			{
				var item : Item = event.target as Item;

				if ( !item )
				{
					transformMarker.item = null;
					transformMarker.visible = false;

					return;
				}

				switch ( item.itemVO.typeVO.resizable )
				{
					case "0":
						{
							transformMarker.resizeMode = TransformMarker.RESIZE_NONE
							break;
						}

					case "1":
						{
							transformMarker.resizeMode = TransformMarker.RESIZE_WIDTH
							break;
						}

					case "2":
						{
							transformMarker.resizeMode = TransformMarker.RESIZE_HEIGHT
							break;
						}

					case "3":
						{
							transformMarker.resizeMode = TransformMarker.RESIZE_ALL
							break;
						}
				}

				transformMarker.moveMode = item.itemVO.typeVO.moveable == "1" ? TransformMarker.MOVE_TRUE : TransformMarker.MOVE_FALSE;

				transformMarker.item = item;
				transformMarker.visible = true;
			}
		]]>
	</fx:Script>

</s:SkinnableContainer>
