<?xml version="1.0" encoding="utf-8"?>
<s:SparkSkin xmlns:components="net.vdombox.ide.modules.wysiwyg.view.components.*"
			 xmlns:editors="net.vdombox.editors.*"
			 xmlns:fx="http://ns.adobe.com/mxml/2009"
			 xmlns:libcomponents="net.vdombox.ide.common.components.*"
			 xmlns:mx="library://ns.adobe.com/flex/mx"
			 xmlns:s="library://ns.adobe.com/flex/spark"
			 creationComplete="creationCompleteHandler()">

	<fx:Metadata>
		<![CDATA[ 
		[HostComponent("net.vdombox.ide.modules.wysiwyg.interfaces.IEditor")]
		]]>
	</fx:Metadata>

	<fx:Script>
		<![CDATA[
			private function creationCompleteHandler() : void
			{
				currentState = "wysiwyg";
			}

			override protected function commitProperties() : void
			{
				super.commitProperties();

				if ( statusLabel )
				{
					if ( hostComponent.status == 1 )
						statusLabel.text = "Saving...";
					else if ( hostComponent.status == 2 )
						statusLabel.text = "Saving OK";
					else if ( hostComponent.status == 3 )
						statusLabel.text = "Loading...";
					else if ( hostComponent.status == 4 )
						statusLabel.text = "Loading OK";
					else
						statusLabel.text = "";
				}

			}
		]]>
	</fx:Script>

	<s:states>
		<s:State name="wysiwyg"/>
		<s:State name="wysiwygDisabled"/>
		<s:State name="xml"/>
		<s:State name="xmlDisabled"/>
		<s:State name="normal"/>
		<s:State name="disabled"/>
	</s:states>

	<s:Rect height="20"
			left="0" right="0" top="0">
		<s:fill>
			<s:LinearGradient rotation="90">
				<s:GradientEntry color="0xCDCDCD"/>
				<s:GradientEntry color="0xE8E8E8"/>
			</s:LinearGradient>
		</s:fill>
	</s:Rect>

	<s:HGroup gap="0" height="20"
			  left="1" right="1" top="1">

		<s:HGroup enabled="false"
				  verticalAlign="middle"
				  includeIn="wysiwyg, wysiwygDisabled, normal, disabled">
			<s:CheckBox label="Show Grid" x="10" y="10"/>

			<s:Label text="X:"/>
			<s:TextInput height="18" width="30" x="124" y="10"/>

			<s:Label text="Y:"/>
			<s:TextInput height="18" width="30" x="124" y="10"/>

			<libcomponents:WorkAreaButton label="lock" width="46"/>

			<s:CheckBox label="Snap to Grid" x="10" y="10"/>
		</s:HGroup>

		<s:HGroup includeIn="xml, xmlDisabled">
			<libcomponents:WorkAreaButton id="saveXMLButton"
										  height="20" label="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_xml_save_button_label' ) }"/>

			<mx:Spacer width="20"/>

			<s:Label id="statusLabel"
					 height="20"
					 color="gray" verticalAlign="middle"/>

		</s:HGroup>

		<mx:Spacer width="100%"/>

		<libcomponents:WorkAreaButton id="wysiwygButton"
									  enabled.wysiwyg="false" enabled.xml="true" height="20" label="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_wysiwyg_button_label' ) }"
									  click="currentState='wysiwyg'"
									  highlighted.wysiwyg="true" highlighted.xml="false"/>

		<libcomponents:WorkAreaButton id="xmlButton"
									  enabled.wysiwyg="true" enabled.xml="false" height="20" label="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_xml_button_label' ) }"
									  click="currentState='xml'"
									  highlighted.xml="true" highlighted.wysiwyg="false"/>
	</s:HGroup>

	<s:Rect height="100%" width="100%"
			top="20">

		<s:stroke>
			<s:SolidColorStroke color="0xE8E8E8"
								weight="1"/>
		</s:stroke>

		<s:fill>
			<s:SolidColor color="0xFFFFFF"
						  alpha=".2"/>
		</s:fill>

	</s:Rect>

	<s:Group id="contentGroup"
			 height="100%" width="100%"
			 top="20"/>

</s:SparkSkin>
