<?xml version="1.0" encoding="utf-8"?>
<s:SparkSkin xmlns:components="net.vdombox.ide.modules.wysiwyg.view.components.*"
			 xmlns:editors="net.vdombox.editors.*"
			 xmlns:fx="http://ns.adobe.com/mxml/2009"
			 xmlns:libcomponents="net.vdombox.ide.common.components.*"
			 xmlns:mx="library://ns.adobe.com/flex/mx"
			 xmlns:s="library://ns.adobe.com/flex/spark"
			 width="100%" height="100%"
			 creationComplete="creationCompleteHandler()">

	<fx:Metadata>
		<![CDATA[ 
		[HostComponent("net.vdombox.ide.modules.wysiwyg.interfaces.IEditor")]
		]]>
	</fx:Metadata>

	<fx:Script>
		<![CDATA[
			import mx.events.StateChangeEvent;
			private function creationCompleteHandler() : void
			{
				currentState = "wysiwyg";
				showLinking.addEventListener( Event.CHANGE, changeHandler );
			}
			
			private function changeHandler ( event : Event ) : void
			{
				dispatchEvent( new Event( "nerrr" ));
			}

			override protected function commitProperties() : void
			{
				super.commitProperties();

				if ( statusLabel )
				{
					if ( hostComponent.status == 1 )
						statusLabel.text = "Saving...";
					else if ( hostComponent.status == 2 )
						statusLabel.text = "Saving OK";
					else if ( hostComponent.status == 3 )
						statusLabel.text = "Loading...";
					else if ( hostComponent.status == 4 )
						statusLabel.text = "Loading OK";
					else
						statusLabel.text = "";
				}

			}
		]]>
	</fx:Script>

	<s:states>
		<s:State name="wysiwyg"/>
		<s:State name="wysiwygDisabled"/>
		<s:State name="xml"/>
		<s:State name="xmlDisabled"/>
		<s:State name="normal"/>
		<s:State name="disabled"/>
	</s:states>
	
	<s:Rect height="29"
				left="0" right="0" top="0">
		<s:fill>
			<s:LinearGradient rotation="90">
				<s:GradientEntry color="0xFFFFFF"/>
				<s:GradientEntry color="0xF6F8F8"/>
			</s:LinearGradient>
		</s:fill>
	</s:Rect>
	
		<s:HGroup gap="0" height="25"
				  left="1" right="1" top="1">
			
			<s:HGroup includeIn="xml, xmlDisabled">
				<libcomponents:WorkAreaButton id="saveXMLButton"
											  height="25" label="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_xml_save_button_label' ) }"/>
				
				<mx:Spacer width="20"/>
				
				<s:Label id="statusLabel"
						 height="25"
						 color="gray" verticalAlign="middle"/>
				
			</s:HGroup>
			
			<s:HGroup gap="15" height="25" paddingRight="15"  paddingLeft="15" width="50%" verticalAlign="middle">
				
				<s:VGroup id="wysiwygButton" enabled.wysiwyg="false" enabled.xml="true" height="25"
						  click="currentState='wysiwyg'" verticalAlign="bottom" horizontalAlign="center" gap="0">
					<s:Label color="#007cb6" fontWeight="bold"
							 text="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_wysiwyg_button_label' ) }"/>
					<s:HGroup>
						<mx:Image source="@Embed('icons/triangle.png')" smoothBitmapContent="true" visible.xml="false" visible.wysiwyg="true"/>
					</s:HGroup>
				</s:VGroup>
				
				<s:VGroup id="xmlButton" enabled.wysiwyg="true" enabled.xml="false" height="25"
						  click="currentState='xml'" verticalAlign="bottom" horizontalAlign="center" gap="0">
					<s:Label color="#007cb6" fontWeight="bold" height="12"
							 text="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_xml_button_label' ) }"/>
					<s:HGroup>
						<mx:Image source="@Embed('icons/triangle.png')" smoothBitmapContent="true" visible.xml="true" visible.wysiwyg="false"/>
					</s:HGroup>
				</s:VGroup>
				
			</s:HGroup>
			
			<s:Line height="25" width="1">
				<s:stroke>
					<s:SolidColorStroke color="#D9DCDC"/>
				</s:stroke>
			</s:Line>
			
			<s:Group width="50%" visible.wysiwyg="true" visible.xml="false">
				
				<s:Rect height="25"
						left="0" right="0" top="0">
					<s:fill>
						<s:LinearGradient rotation="90">
							<s:GradientEntry color="0xFFFFFF"/>
							<s:GradientEntry color="0xFEFEFE"/>
						</s:LinearGradient>
					</s:fill>
				</s:Rect>
				
				<s:HGroup height="25" paddingRight="0" paddingLeft="15" verticalAlign="middle" width="100%" gap="10" horizontalAlign="right">
					
					<s:CheckBox id="showLinking" label="{ resourceManager.getString( 'Wysiwyg_General', 'work_area_show_linking' ) }"/>
					
					<s:HGroup height="25" verticalAlign="middle" gap="5" width="80">
						<mx:Image source="@Embed('icons/Cursor.png')" smoothBitmapContent="true" />
						<s:VGroup height="25" gap="0">
							<s:Label height="12" id="strXWritten" text="x: 0px"/>
							<s:Label height="12" id="strYWritten" text="y: 0px"/>
						</s:VGroup>
					</s:HGroup>			
			
				</s:HGroup>
				
			</s:Group>
		</s:HGroup>
	

	<s:Rect height="100%" width="100%"
			top="29">

		<s:stroke>
			<s:SolidColorStroke color="0xE8E8E8"
								weight="1"/>
		</s:stroke>

		<s:fill>
			<s:SolidColor color="0xFFFFFF"
						  alpha=".2"/>
		</s:fill>

	</s:Rect>

	<s:Group id="contentGroup"
			 height="100%" width="100%"
			 top="29"/>

</s:SparkSkin>
