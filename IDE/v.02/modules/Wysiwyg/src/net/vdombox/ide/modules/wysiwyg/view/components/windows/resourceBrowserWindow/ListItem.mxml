<?xml version="1.0" encoding="utf-8"?>

<s:ItemRenderer  xmlns:fx="http://ns.adobe.com/mxml/2009"
				 xmlns:s="library://ns.adobe.com/flex/spark"
				 xmlns:mx="library://ns.adobe.com/flex/mx">

	<fx:Script>
		<![CDATA[
			import net.vdombox.ide.common.vo.ResourceVO;
			
			private var _id : String;
			private var _objType : String = '';
			
			[Bindable]
			private var resourceVO : ResourceVO;
			
			private var temp:int = 0;
			
			override public function set data ( value : Object ) : void 
			{
				super.data = value;
				resourceVO = value as ResourceVO;
				
				resName.text = '';
				//				проверить
				res.text = '';				
				
				try 
				{
					objName = resourceVO.name;
					objType = resourceVO.type;
					objID	= resourceVO.id;
				}
				catch ( error : Error ) 
				{
					trace ("ThumbnailItem: exception at data setter!"); 
				}
				
				if ( resourceVO )
					smoothImage.source = resourceVO.icon;
			}
			
			public function set objName( text : String ):void 
			{ 
				resName.text = text; 
			}
			
			public function get objName():String 
			{ 
				return resName.text; 
			}
			
			public function set objID( objID : String ) : void 
			{
				_id = objID; 
			}
			
			public function get objID() : String 
			{
				return _id; 
			}
			
			public function set objType( objType : String) : void 
			{
				type.text = objType.toUpperCase() + ":";
				_objType  = objType;
			}
			
			public function get objType():String 
			{
				return _objType.toLowerCase();
			}
			
			private function deleteButton_clickHandler( event : MouseEvent ) : void
			{
				//Alert.show( "Delete resource: " +  resourceVO.name + "?", "Alert!", Alert.YES | Alert.NO, this, acceptDeleteHandler )
				acceptDeleteHandler();
				//				owner.dispatchEvent( new Event( "DeleteResource", true, true ));
			}
			
			private function acceptDeleteHandler() : void// (event : CloseEvent ) : void
			{
				//				if ( event.detail == Alert.YES )
				//				{
				var lie : ListItemEvent = new ListItemEvent( ListItemEvent.DELETE_RESOURCE );
				lie.resource = resourceVO;
				owner.dispatchEvent( lie );
				//				}
			}
			
		]]>
	</fx:Script>
	
	
	<s:states>
		<s:State name="normal" />
		<s:State name="hovered" />	
		<s:State name="selected" />
	</s:states>
	
	<s:Group height="50" width="178">
	
		<!--<s:Rect height="100%" width="100%" radiusX="5" radiusY="5" includeIn="selected">
			<s:fill>
				<s:SolidColor color.selected="red" color.normal="green" color.hovered="blue"/>
			</s:fill>
		</s:Rect>-->
		
		<!--<s:Rect height="100%" width="100%" radiusX="5" radiusY="5" includeIn="normal">
			<s:fill>
				<s:SolidColor color="green"/>
			</s:fill>
		</s:Rect>
		
		<s:Rect height="100%" width="100%" radiusX="5" radiusY="5" includeIn="hovered">
			<s:fill>
				<s:SolidColor color="blue"/>
			</s:fill>
		</s:Rect>-->
		
		<s:HGroup height="100%" width="100%"  
			 		horizontalAlign="left"
			 		verticalAlign="middle"
			 		paddingTop="3" paddingLeft="3" paddingRight="3" paddingBottom="3"
			 		gap="3"
			 		xmlns:resourceBrowserWindow="net.vdombox.ide.modules.wysiwyg.view.components.windows.resourceBrowserWindow.*" >
		
			<s:Group width="44" height="44" left="0" right="0" bottom="0" top="0">
				
				<resourceBrowserWindow:SmoothImage id="smoothImage" height="42" width="42"
					verticalAlign="middle" horizontalAlign="center" maintainAspectRatio="true"
					scaleContent="true" />
					
			</s:Group>
				
			<s:VGroup width="122" gap="1">
				
				<s:HGroup width="100%" gap="3" right="5" verticalAlign="middle">
					
					<s:Label id="type" text="JPG:" textAlign="left" fontWeight="bold" />
					
					<s:Label id="res" text="" textAlign="left" />
					
					<s:Spacer width="100%"/>
					
					<s:Button id="deleteButton"
							   enabled="true"
							   label="x"
							   width="18" height="18"
							   cornerRadius="0" 
							   fontWeight="bold" fontSize="10"
							   toolTip="Delete"
							   left="0" right="0" top="0" bottom="0"
							   color="#FF0000"
							   click="deleteButton_clickHandler( event );"/>	
					
				</s:HGroup>
				
				<s:Label id="resName" text="img" textAlign="left" width="122" />	
			
			</s:VGroup>
			
		</s:HGroup>
		
	</s:Group>
	
</s:ItemRenderer>