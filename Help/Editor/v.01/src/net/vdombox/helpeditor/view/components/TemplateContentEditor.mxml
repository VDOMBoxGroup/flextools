<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml">
	
	<mx:Script>
		<![CDATA[
			
			public var startContent : String = "";
			
			public function get content () : String
			{
				return textInputField.text;
			}
			
			protected function textInputField_keyDownHandler(event:KeyboardEvent):void
			{
				if (event.keyCode == Keyboard.ENTER)
				{
					event.stopPropagation();
					event.preventDefault();
					
					var txt : String;
					
					txt = content.substring(0, textInputField.selectionBeginIndex);
					txt += "\n";
					txt += content.substr(textInputField.selectionEndIndex);
					
					var newCaretPos : int = textInputField.selectionBeginIndex + 1;
					
					textInputField.text = txt;
					textInputField.setSelection( newCaretPos, newCaretPos );
					
					return;
				}
			}
			
		]]>
	</mx:Script>
	
	<mx:TextInput id="textInputField"
				  width="100%" height="100%"
				  text="{startContent}"
				  keyDown="textInputField_keyDownHandler(event)"/>
</mx:Canvas>
