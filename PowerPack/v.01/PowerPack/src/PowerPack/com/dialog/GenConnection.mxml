<?xml version="1.0" encoding="utf-8"?>
<GenModalDialog xmlns="PowerPack.com.dialog.*" xmlns:mx="http://www.adobe.com/2006/mxml"
	title="{LanguageManager.sentences.connection}"
	modal="true"
	xmlns:controls="ExtendedAPI.com.controls.*" width="450" height="200" xmlns:control="PowerPack.com.control.*">
	
	<mx:Script>
		<![CDATA[
			import mx.utils.StringUtil;
			import PowerPack.com.managers.ContextManager;
			import PowerPack.com.managers.LanguageManager;
			
			private static var _dialog:GenConnection;
			
			static public function show(closeHandler:Function = null):GenConnection
			{
				if(!_dialog || _dialog.closed) 
				{
					_dialog = new GenConnection();	
					_dialog.open();
					_dialog.show(OK | CANCEL, closeHandler, null, OK);	
					
					var defaultCaptions:Object = {
						hlp_host: "Host...",
						hlp_port: "Port..."
					};
					
					LanguageManager.setSentences(defaultCaptions);								
				}				
				else 
				{
					_dialog.activate();
				}	
				
				return _dialog;
			}
				
		]]>
	</mx:Script>

	<mx:VBox styleName="dlgHeader" width="100%">
		<mx:Label text="{LanguageManager.sentences.connection}" styleName="headerLabel"/>
	</mx:VBox>
	
	<mx:HRule width="100%"/>
		
	<mx:VBox styleName="dlgContent" height="100%">
		<mx:Grid>
			<mx:GridRow width="100%" height="100%">
				<mx:GridItem width="100%" height="100%">
					<mx:Label text="{LanguageManager.sentences.host}:"/>
				</mx:GridItem>
				<mx:GridItem width="100%" height="100%">
					<mx:TextInput text="{ContextManager.instance.host}"
						change="ContextManager.instance.host=StringUtil.trim(event.target.text)" width="300"/>
					<control:HelpTip 
						toolTip="{LanguageManager.sentences.hlp_host}"/>
				</mx:GridItem>
			</mx:GridRow>
			<mx:GridRow width="100%" height="100%">
				<mx:GridItem width="100%" height="100%">
					<mx:Label text="{LanguageManager.sentences.port}:"/>
				</mx:GridItem>
				<mx:GridItem width="100%" height="100%">
					<mx:TextInput text="{ContextManager.instance.port}" restrict="0-9"
						change="ContextManager.instance.port=StringUtil.trim(event.target.text)" width="50"/>
					<control:HelpTip
						toolTip="{LanguageManager.sentences.hlp_port}"/>
				</mx:GridItem>
			</mx:GridRow>			
		</mx:Grid>
	</mx:VBox>	

	<mx:HRule width="100%"/>
	
	<mx:ControlBar width="100%" styleName="dlgFooter">
	</mx:ControlBar>
		
</GenModalDialog>
